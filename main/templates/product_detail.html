{% extends 'base.html' %}
{% load widget_tweaks %}
{% load static %}
{% block content %}
<div class="px-4 py-24">
   <div
      class="lg:max-w-[1440px] md:max-w-[744px] max-w-[375px] mx-auto bg-white lg:px-10 md:px-6 px-4 py-12"
      >
      <div class="lg:flex items-stretch justify-center gap-8 bg-gray-50">
         <div class="">
            <div
               class="lg:max-w-[515px] w-full bg-gray-50 lg:px-10 md:px-6 px-4 py-12"
               >
               <div class="pb-6">
                  <p class="text-base leading-none">Home / Swapt Listings / {{data.title}}</p>
                  <p
                     class="lg:text-4xl md:text-3xl text-3xl font-semibold leading-9 text-gray-800 md:mt-6 mt-4"
                     >
                     {{data.title}}
                  </p>
                  <p
                     class="text-2xl font-semibold leading-normal text-gray-800 md:mt-6 mt-4"
                     >
                     $<span class="product-price-{{data.id}}">{{data.productattribute_set.first.price}}</span>
                  </p>
                  <p
                     class="text-base leading-normal text-gray-600 mt-4 lg:max-w-[415px] w-full"
                     >
                     {{data.detail}}
                  </p>
                  <ul role="list" class="space-y-5 my-7">
                     <li class="flex space-x-3">
                        <!-- Icon -->
                        <svg aria-hidden="true" class="flex-shrink-0 w-5 h-5 text-purple-600 dark:text-purple-500" fill="none" sfill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"></path>
                           <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"></path>
                        </svg>
                        <span class="text-base font-normal leading-tight text-gray-500 dark:text-gray-400">{{data.location}} </span>
                     </li>
                     <li class="flex space-x-3">
                        <!-- Icon -->
                        <svg aria-hidden="true" class="flex-shrink-0 w-5 h-5 text-purple-600 dark:text-purple-500" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"></path>
                        </svg>
                        <span class="text-base font-normal leading-tight text-gray-500 dark:text-gray-400">{{data.moveOutDate|date:"M d, Y"}}</span>
                     </li>
                     <li class="flex space-x-3">
                        <!-- Icon -->
                        <svg aria-hidden="true" class="flex-shrink-0 w-5 h-5 text-purple-600 dark:text-purple-500" fill="currentColor" viewBox="0 0 24 24"
                           fill="none"
                           xmlns="http://www.w3.org/2000/svg"
                           class="flex-grow-0 flex-shrink-0 w-6 h-6 relative"
                           preserveAspectRatio="none"
                           >
                           <path
                              d="M9.00016 16.1698L4.83016 11.9998L3.41016 13.4098L9.00016 18.9998L21.0002 6.99984L19.5902 5.58984L9.00016 16.1698Z"
                              fill="#957FEF"
                              ></path>
                        </svg>
                        <span class="text-base font-normal leading-tight text-gray-500 dark:text-gray-400">{{data.sellingStage}}</span>
                     </li>
                  </ul>
               </div>
               <div class="flex justify-center flex-col mt-2 md:flex lg:max-w-[515px] w-full gap-4">
                  <div>
                     <input type="hidden" type="number" value="1" class="form-control product-qty-{{data.id}}" id="productQty" />
                     <div class="input-group-append">
                        <input type="hidden" class="product-image-{{data.id}}" value="{{data.productattribute_set.first.image}}" />
                        <input type="hidden" class="product-id-{{data.id}}" value="{{data.id}}" />
                        <input type="hidden" class="product-title-{{data.id}}" value="{{data.title}}" />
                        <button class="w-full text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 add-to-cart" data-index="{{data.id}}" type="button" id="addToCartBtn"> Add to Cart</button>
                     </div>
                  </div>
                  <button data-modal-target="product-offer-modal" data-modal-toggle="product-offer-modal" 
                     class="w-full text-purple-700 border border-purple-700 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500 dark:focus:ring-purple-900"
                     >
                  Make An Offer
                  </button>
               </div>
               <hr />
               <div id="accordion-flush" data-accordion="open" data-active-classes="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white" data-inactive-classes="text-gray-500 dark:text-gray-400">
                  <h2 id="accordion-flush-heading-1">
                     <button type="button" class="flex items-center justify-between w-full py-5 font-semibold uppercase text-left text-base leading-none text-gray-600 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-1" aria-expanded="true" aria-controls="accordion-flush-body-1">
                        <span>Specifications</span>
                        <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                     </button>
                  </h2>
                  <div id="accordion-flush-body-1" class="hidden" aria-labelledby="accordion-flush-heading-1">
                     <div class="py-5 border-b border-gray-200 dark:border-gray-700">
                        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                           <thead class="hidden text-xs text-gray-900 uppercase dark:text-gray-400">
                              <tr>
                                 <th scope="col" class="px-6 py-3">
                                    spec
                                 </th>
                                 <th scope="col" class="px-6 py-3">
                                    value
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="bg-gray-50 dark:bg-gray-800">
                                 <th scope="row" class="px-6 py-4 text-xs text-gray-900 uppercase dark:text-gray-400">
                                    Brand
                                 </th>
                                 <td class="px-6 py-4">
                                    <a href="/brand-product-list/{{data.brand.id}}">{{data.brand.title}}</a>
                                 </td>
                              </tr>
                              <tr class="bg-gray-50 dark:bg-gray-800">
                                 <th scope="row" class="px-6 py-4 text-xs text-gray-900 uppercase dark:text-gray-400">
                                    Category
                                 </th>
                                 <td class="px-6 py-4">
                                    <a href="/category-product-list/{{data.category.id}}">{{data.category.title}}</a>
                                 </td>
                              </tr>
                              <tr class="bg-gray-50 dark:bg-gray-800">
                                 <th scope="row" class="px-6 py-4 text-xs text-gray-900 uppercase dark:text-gray-400">
                                    Condition
                                 </th>
                                 <td class="px-6 py-4">
                                    {{data.condition}}
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <h2 id="accordion-flush-heading-2">
                     <button type="button" class="flex items-center justify-between w-full py-5 font-semibold uppercase text-left text-base leading-none text-gray-600 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-2" aria-expanded="false" aria-controls="accordion-flush-body-2">
                        <span>Location Details</span>
                        <svg data-accordion-icon class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                     </button>
                  </h2>
                  <div id="accordion-flush-body-2" class="hidden" aria-labelledby="accordion-flush-heading-2">
                     <div class="py-5 border-b border-gray-200 dark:border-gray-700">
                        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                           {% for address in addbook %}
                           <thead class="text-xs text-gray-900 uppercase dark:text-gray-400">
                              <tr>
                                 <th scope="col" class="px-6 py-3">
                                    Address
                                 </th>
                                 <th scope="col" class="px-6 py-3">
                                    {{ address.address }}
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="bg-gray-50 dark:bg-gray-800">
                                 <th scope="row" class="px-6 py-4 text-xs text-gray-900 uppercase dark:text-gray-400">
                                    Campus
                                 </th>
                                 <td class="px-6 py-4">{{ address.campus }}
                                 </td>
                              </tr>
                              <tr class="bg-gray-50 dark:bg-gray-800">
                                 <th scope="row" class="px-6 py-4 text-xs text-gray-900 uppercase dark:text-gray-400">
                                    Property Name
                                 </th>
                                 <td class="px-6 py-4">{{ address.propertyname }}
                                 </td>
                              </tr>
                           </tbody>
                           {% endfor %}
                        </table>
                     </div>
                  </div>
                  <h2 id="accordion-flush-heading-3">
                     <button type="button" class="flex items-center justify-between w-full py-5 font-semibold uppercase text-left text-base leading-none text-gray-600 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-3" aria-expanded="false" aria-controls="accordion-flush-body-3">
                        <span>Delivery</span>
                        <svg data-accordion-icon class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                     </button>
                  </h2>
                  <div id="accordion-flush-body-3" class="hidden" aria-labelledby="accordion-flush-heading-3">
                     <div class="py-5 border-b border-gray-200 dark:border-gray-700">
                        <p class="mb-2 text-gray-500 dark:text-gray-400">In order for you to receive the items in this listing, you must be the incoming tenant of the address under this listing. If you are the incoming tenant for this address, your items will be waiting for you at this address when you move in. </p>
                        <p class="mb-2 text-gray-500 dark:text-gray-400">Learn more about how Swapt works <a href="/about" class="text-purple-600 dark:text-purple-500 hover:underline">here</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div id="gallery" class="relative lg:w-1/2 xl:w-7/12 sm:p-12" data-carousel="slide">
            <!-- Carousel wrapper -->
            <div class="relative h-auto w-full overflow-hidden rounded-lg md:h-96">
               <!-- Swapt Listing Thumbnail Photo -->
               <div class="hidden duration-700 ease-in-out" data-carousel-item>
                  <img  id="zoom_01" 
                     data-zoom-image="/media/{{data.productattribute_set.first.image}}" 
                     src="/media/{{data.productattribute_set.first.image}}"
                     alt="{{data.title}}" class="absolute block h-auto max-w-full object-cover -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
               </div>
               <!-- Inventory Item(s) -->
               {% for product in related %}
               <div class="hidden duration-700 ease-in-out" data-carousel-item="active">
                  <img id="zoom_01" 
                     data-zoom-image="/media/{{product.inventoryitemattribute_set.first.image}}" 
                     src="/media/{{product.inventoryitemattribute_set.first.image}}"
                     alt="{{product.title}}" class="absolute block object-cover h-auto max-w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
               </div>
               {% endfor %}
            </div>
            <!-- Slider controls -->
            <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
               <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                  <svg aria-hidden="true" class="w-6 h-6 text-white dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                  </svg>
                  <span class="sr-only">Previous</span>
               </span>
            </button>
            <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
               <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                  <svg aria-hidden="true" class="w-6 h-6 text-white dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                  <span class="sr-only">Next</span>
               </span>
            </button>
         </div>
      </div>
      <!-- inventory listing items-->
      <div class="divider">
         <p
            class="self-stretch text-4xl font-semibold text-center"
            >
            <span
               class="self-stretch  text-4xl font-semibold text-center text-[#0e0f11]"
               >Items &#x26; </span
               ><span
               class="self-stretch text-4xl font-semibold text-center text-[#957fef]"
               >Details</span
               >
         </p>
      </div>
      <p
         class="self-stretch pt-4 text-base text-center text-[#636b75]"
         >
         This listing includes all of the following furniture items
      </p>
      {% include 'inventory_detail.html' %}
   </div>
   <!-- Main modal -->
   {% if user.is_authenticated %}
   <div id="product-offer-modal" tabindex="-1" aria-hidden="true" class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
      <div class="relative w-full max-w-md max-h-full">
         <!-- Modal content -->
         <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <button type="button" class="absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white" data-modal-hide="product-offer-modal">
               <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
               </svg>
               <span class="sr-only">Close modal</span>
            </button>
            <div class="px-6 py-6 lg:px-8">
               <h3 class="mb-4 text-xl font-medium text-gray-900 dark:text-white">Make an offer</h3>
               {% if msg %}
               <p class="text-green-500">{{msg}}</p>
               {% endif %}
               <form class="space-y-6" method="post">
                  {% csrf_token %}
                  {% for field in offersForm %}
                  <div>
                     <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">{{ field.label }}</label>
                     <div class="bg-gray-100 border border-gray-100 text-[#807976] sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-purple-500 dark:focus:border-purple-500">
                        {%render_field field placeholder=field.label class+="w-full text-sm font-bold text-left text-[#807976] flex justify-start items-center relative overflow-hidden gap-2 bg-gray-100 border-0 border-gray-100" %} 
                     </div>
                  </div>
                  {% endfor %}
                  <button type="submit" value="Save" class="w-full text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800">Submit Offer</button>
               </form>
            </div>
         </div>
      </div>
   </div>
   <!-- Offer End -->
   {% endif %}   
</div>
<!-- Image Zoom -->
<script src="{% static 'jquery.ez-plus.js' %}"></script>
<script type="text/javascript">
   $('#zoom_01').ezPlus();
</script>
<!-- Add To Cart -->
<script src="{% static 'custom.js' %}"></script>
{% endblock %}