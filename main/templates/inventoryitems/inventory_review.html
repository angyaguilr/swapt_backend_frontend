{% extends 'base.html' %}
{% load static %}
{% block content %}
<main class="container mx-auto sm:px-4 my-4 pt-24">
   <h3 class="">My Inventory Listings</h3>
      <!-- Featured Listings -->
   <div class="flex flex-wrap flex-col">
      <!-- âœ… Grid Section - Starts Here ðŸ‘‡ -->
      <section class="w-fit mx-auto grid grid-cols-1 xl:grid-cols-4 lg:grid-cols-4 md:grid-cols-2 justify-items-center justify-center gap-y-20 gap-x-14 mt-10 mb-5">
         {% for product in review %}
         <!--   âœ… Product card 1 - Starts Here ðŸ‘‡ -->
         <div class="w-72 bg-white shadow-md rounded-xl duration-500 hover:scale-105 hover:shadow-xl">
            <a href="/product/{{product.slug}}/{{product.id}}">
               <img src="/media/{{product.productattribute_set.first.image}}" alt="{{product.title}}" class="h-80 w-72 object-cover rounded-t-xl" />
               <div class="px-4 py-3 w-72">
                  <p class="text-lg font-bold font-quicksand text-black truncate block capitalize">
            <a href="/product/{{product.slug}}/{{product.id}}">{{product.title}}</a></p>
            <p class="text-lg font-normal font-quicksand text-gray-700 truncate block"><a href="/product/{{product.slug}}/{{product.id}}">{{product.location}}</a></p>
            {% if product.move_out_date|date:"M Y" == product.publishing_date|date:"M Y" %}
            <p class="text-lg font-normal font-quicksand text-gray-700 truncate block"><a href="/product/{{product.slug}}/{{product.id}}">Available Now</a></p>
            {% else %}
            <p class="text-lg font-normal font-quicksand text-gray-700 truncate block"><a href="/product/{{product.slug}}/{{product.id}}">Available {{product.move_out_date|date:"M Y"}}</a></p>
            {% endif %}
            <div class="flex items-center">
            <p class="text-lg font-normal font-quicksand text-black cursor-auto my-3">
            $ <span class="product-price-{{product.id}}">{{product.productattribute_set.first.price}}</span>
            </p>
            <p class="text-sm text-gray-600 cursor-auto ml-2">USD</p>
            <div class="ml-auto">
            <input type="hidden" value="1" class="block appearance-none w-full py-1 px-2 mb-1 text-base leading-normal bg-white text-gray-800 border border-gray-200 rounded product-qty-{{product.id}}" id="productQty" />
            <input type="hidden" class="product-image-{{product.id}}" value="{{product.productattribute_set.first.image}}" />
            <input type="hidden" class="product-id-{{product.id}}" value="{{product.id}}" />
            <input type="hidden" class="product-title-{{product.id}}" value="{{product.title}}" />
            <button class="inline-block align-middle text-center select-none border font-normal font-quicksand whitespace-no-wrap rounded  no-underline py-1 px-2 leading-tight text-xs text-black add-to-cart" data-index="{{product.id}}">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-bag-plus" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z" />
            <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z" />
            </svg>
            </button>
            <button class="inline-block align-middle text-center select-none border font-normal font-quicksand whitespace-no-wrap rounded  no-underline py-1 px-2 leading-tight text-xs text-white hover:bg-red-700">
            <svg
               width="24"
               height="24"
               viewBox="0 0 24 24"
               fill="currentColor"
               xmlns="http://www.w3.org/2000/svg"
               class="w-5 h-5"
               preserveAspectRatio="xMidYMid meet"
               >
            <path
               d="M12 21C17.25 17.4503 22.5 13.5 22.5 8.25C22.5 6.906 21.9878 5.56275 20.9625 4.5375C19.9373 3.513 18.594 3 17.25 3C15.9067 3 14.5628 3.513 13.5382 4.5375L12 6.07575L10.4625 4.5375C9.43725 3.513 8.094 3 6.75 3C5.40675 3 4.06275 3.513 3.03825 4.5375C2.013 5.56275 1.5 6.906 1.5 8.25C1.5 13.5 6.75 17.4503 12 21Z"
               fill="black"
               fill-opacity="0.5"
               stroke="white"
               stroke-width="2"
               ></path>
            </svg>
            </button>
            </div>
            </div>
            </div>
            </a>
         </div>
         {% endfor %}
         <!--   ðŸ›‘ Product card 1 - Ends Here  -->
         <p class="my-4 text-center"><a href="{% url 'product-list' %}" class="inline-block align-middle text-center select-none border font-normal font-quicksand whitespace-no-wrap rounded  no-underline bg-gray-900 text-white hover:bg-gray-900 py-1 px-2 leading-tight text-xs ">All Products</a></p>
      </section>
      <!-- ðŸ›‘ Grid Section - Ends Here -->
   </div>
</main>
<div class="pl-10 mb-4 border-b border-gray-200 dark:border-gray-700">
   <ul class="nav nav-tabs flex flex-wrap -mb-px text-sm font-medium text-center" id="nav-tab" data-tabs-toggle="#myTabContent" role="tablist">
      <li class="nav-item mr-2" role="presentation">
         <button class="nav-link active" id="nav-inventoryreview-tab" data-bs-toggle="tab" data-bs-target="#nav-inventoryreview" type="button" role="tab" aria-controls="nav-inventoryreview" aria-selected="true">Awaiting Review</button>
         <button class="inline-block p-4 border-b-2 rounded-t-lg" id="profile-tab" data-tabs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Flowbite Profile</button>
      </li>
      <li class="nav-item mr-2" role="presentation">
         <button class="nav-link" id="nav-inventory-approved-tab" data-bs-toggle="tab" data-bs-target="#nav-inventoryapproved" type="button" role="tab" aria-controls="nav-inventoryapproved" aria-selected="false">Approved</button>
         <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="dashboard-tab" data-tabs-target="#dashboard" type="button" role="tab" aria-controls="dashboard" aria-selected="false">Flowbite Dashboard</button>
      </li>
      <li class="nav-item mr-2" role="presentation">
         <button class="nav-link" id="nav-inventory-reported-tab" data-bs-toggle="tab" data-bs-target="#nav-inventoryreported" type="button" role="tab" aria-controls="nav-inventoryreported" aria-selected="false">Reported</button>
         <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="settings-tab" data-tabs-target="#settings" type="button" role="tab" aria-controls="settings" aria-selected="false">Flowbite Settings</button>
      </li>
      <li role="nav-itempresentation">
         <button class="nav-link" id="nav-inventory-rejected-tab" data-bs-toggle="tab" data-bs-target="#nav-inventoryrejected" type="button" role="tab" aria-controls="nav-inventoryrejected" aria-selected="false">Rejected</button>
         <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300" id="contacts-tab" data-tabs-target="#contacts" type="button" role="tab" aria-controls="contacts" aria-selected="false">Flowbite Contacts</button>
      </li>
   </ul>
</div>
<div class="z-10 bg-white rounded-lg shadow w-60 dark:bg-gray-700">
   <div class="form-check form-check-inline">
      <input class="form-check-input location filter" type="checkbox" id="ElonNC">
      <label class="form-check-label" for="ElonNC">
      Elon, NC
      </label>
   </div>
   <div class="form-check form-check-inline">
      <input class="form-check-input location filter" type="checkbox" id="BurlingtonNC">
      <label class="form-check-label" for="BurlingtonNC">
      Burlington, NC
      </label>
   </div>
</div>
<br></br>
<div class="z-10 bg-white rounded-lg shadow w-60 dark:bg-gray-700">
   <div class="form-check form-check-inline">
      <input class="form-check-input campus filter" type="checkbox" id="Elon">
      <label class="form-check-label" for="Elon">
      Elon
      </label>
   </div>
   <div class="form-check form-check-inline">
      <input class="form-check-input campus filter" type="checkbox" id="UMD">
      <label class="form-check-label" for="UMD">
      UMD
      </label>
   </div>
   <div class="form-check form-check-inline">
      <input class="form-check-input campus filter" type="checkbox" id="UNCG">
      <label class="form-check-label" for="UNCG">
      UNCG
      </label>
   </div>
   <div class="form-check form-check-inline">
      <input class="form-check-input propertyname filter" type="checkbox" id="Oaks">
      <label class="form-check-label" for="Oaks">
      Oaks
      </label>
   </div>
   <div class="form-check form-check-inline">
      <input class="form-check-input propertyname filter" type="checkbox" id="MillPoint">
      <label class="form-check-label" for="MillPoint">
      MillPoint
      </label>
   </div>
   <div class="form-check form-check-inline">
      <input class="form-check-input propertyname filter" type="checkbox" id="OakHill">
      <label class="form-check-label" for="OakHill">
      OakHill
      </label>
   </div>
</div>
<button class="btn btn-success apply-filter w-60 focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900">Filter</button>
<div class="tab-content" id="nav-tabContent">
   <div class="tab-pane fade show active" id="nav-inventoryreview" role="tabpanel" aria-labelledby="nav-inventoryreview-tab">
      <div class="row row-cols-1 row-cols-md-3 g-4">
         {% for listing in review %}
         <div class="col">
            <form action="" method="POST">
               {% csrf_token %}
               <div class="card" style="width: 18rem;">
                  <div class="card-body">
                     <h5 class="card-title">Awaiting Review</h5>
                     <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->
                  </div>
                  <ul class="list-group list-group-flush">
                     <li class="list-group-item">Name: {{ listing.title }}</li>
                     <li class="list-group-item">Description: {{ listing.detail}}</li>
                     <li class="list-group-item card-location">Location: {{listing.location}}</li>
                     {% if listing.issue != None %}
                     <li class="list-group-item">Reported/rejected issue: {{ listing.issue }}</li>
                     {% endif %}
                     {% for pair in listing.inventorycampuspropertynamepair_set.all %}
                     <li class="list-group-item card-propertyname">Campus/propertyname pair {{ forloop.counter }}: {{ pair.campus }}/{{ pair.propertyname }}</li>
                     {% endfor %}
                  </ul>
                  <div class="card-body">
                     {% if user.is_admin %}
                     {% if listing.stage != 2 %}
                     <button type="submit" value="2" class="btn btn-success" name="status">Approve</button>
                     {% endif %}
                     {% if listing.stage == 1 %}
                     {% comment %} <button type="submit" value="3" class="btn btn-danger" name="status">Reject</button> {% endcomment %}
                     <a class="btn btn-danger" href="{% url 'inventory_reject' listing.id %}?next={% url 'inventory_review'%}#nav-inventoryreview-tab" role="button">Reject</a>
                     {% else %}
                     <button type="submit" value="delete" class="btn btn-danger" name="status">Delete</button>
                     {% endif %}
                     <a class="btn btn-primary" href="{% url 'inventory_edit' listing.id %}?next={% url 'inventory_review'%}#nav-inventoryreview-tab" role="button">Edit</a>
                     {% elif listing.stage != 2 and user.is_swapt_user %}
                     <a class="btn btn-primary" href="{% url 'inventory_edit' listing.id %}?next={% url 'inventory_review'%}#nav-inventoryreview-tab" role="button">Edit</a>
                     <button type="submit" value="delete" class="btn btn-danger" name="status">Delete</button>
                     {% endif %}
                     <input type="hidden" name="id" value={{ listing.id }}>
                  </div>
               </div>
            </form>
         </div>
         {% endfor %}
      </div>
   </div>
   <div class="tab-pane fade" id="nav-inventoryapproved" role="tabpanel" aria-labelledby="nav-inventory-approved-tab">
      <table id="inventory-approved-table" class="table table-bordered">
         <thead>
            <tr>
               <th scope="col">Name</th>
               <th scope="col">Description</th>
               <th scope="col">Location</th>
               <th scope="col">Campus Level 1</th>
               <th scope="col">Propertyname Level 1</th>
               <th scope="col">Campus Level 2</th>
               <th scope="col">Propertyname Level 2</th>
               <th scope="col">Campus Level 3</th>
               <th scope="col">Propertyname Level 3</th>
               <th scope="col">Buttons</th>
            </tr>
         </thead>
      </table>
   </div>
   <div class="tab-pane fade" id="nav-inventoryreported" role="tabpanel" aria-labelledby="nav-
      inventory-reported-tab">
      <table id="inventory-reported-table" class="table table-bordered">
         <thead>
            <tr>
               <th scope="col">Name</th>
               <th scope="col">Description</th>
               <th scope="col">Location</th>
               <th scope="col">Issue</th>
               <th scope="col">Campus Level 1</th>
               <th scope="col">Propertyname Level 1</th>
               <th scope="col">Campus Level 2</th>
               <th scope="col">Propertyname Level 2</th>
               <th scope="col">Campus Level 3</th>
               <th scope="col">Propertyname Level 3</th>
               <th scope="col">Buttons</th>
            </tr>
         </thead>
      </table>
   </div>
   <div class="tab-pane fade" id="nav-inventoryrejected" role="tabpanel" aria-labelledby="nav-inventory-rejected-tab">
      <table id="inventory-rejected-table" class="table table-bordered">
         <thead>
            <tr>
               <th scope="col">Name</th>
               <th scope="col">Description</th>
               <th scope="col">Location</th>
               <th scope="col">Issue</th>
               <th scope="col">Campus Level 1</th>
               <th scope="col">Propertyname Level 1</th>
               <th scope="col">Campus Level 2</th>
               <th scope="col">Propertyname Level 2</th>
               <th scope="col">Campus Level 3</th>
               <th scope="col">Propertyname Level 3</th>
               <th scope="col">Buttons</th>
            </tr>
         </thead>
      </table>
   </div>
   {% if user.is_admin %}
   <div class="tab-pane fade" id="nav-inventory" role="tabpanel" aria-labelledby="nav-inventory-tab">
      <table id="inventory-table" class="table table-bordered">
         <thead>
            <tr>
               <th scope="col">Inventory</th>
            </tr>
         </thead>
      </table>
   </div>
   {% endif %}
</div>
<script>
   $(document).ready(function () {
   
       var filter = ""
       if (window.location.search.substring(1) != "") {
           filter = "&" + window.location.search.substring(1);
           var params = window.location.search.substring(1).split("&");
           for(let i = 0; i < params.length; i ++) {
               param = params[i];
               
               if(param.startsWith("location") || param.startsWith("propertyname") || param.startsWith("campus")) {
                   $("#" + param.split("=")[1]).prop("checked", true);
               } else if(param.startsWith("showNA")) {
                   stringBool = param.split("=")[1] == "true"
                   $("#na").prop("checked", stringBool);
               }
           }
       } else {
           $('input[type=checkbox]').each(function () {
               $(this).prop("checked", true);
           });
       }
   
       var approvedTable = $('#inventory-approved-table').DataTable({
           "serverSide": true,
           "processing": true,
           "autoWidth": false,
           "stateSave": true,
           "ajax": {
               "url": "/listings/api/inventory-review/?format=datatables&stage=2" + filter,
               "credentials": 'include',
           },
           "columns": [
               {"data": "title"},
               {"data": "desc"},
               {
                   "searchable": false,
                   "data": "location"
               },
               {
                   "searchable": false,
                   "data": 'inventorycampuspropertynamepair_set.0.campus'
               },
               {
                   "searchable": false,
                   "data": 'inventorycampuspropertynamepair_set.0.propertyname'
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.1.campus',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.1.propertyname',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.2.campus',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.2.propertyname',
               },
               {
                   "searchable": false,
                   "data": null,
                   render:function(data, type, row) {
                       return '<div class="d-inline"> <form action="" method="POST"> {% csrf_token %} <button type="submit" value="delete" class="btn btn-danger" name="status">Delete</button> <input type="hidden" class="card-id" name="id" value="' + data["id"] + '"> </form> </div> <div class="d-inline"> <a class="btn btn-primary" role="button">Edit</a> </div>';
                   },
                   "targets": -1,
               },
           ],
       });
    
       var column = approvedTable.column(10);
       column.visible({% if user.is_admin %} true {% else %} false {% endif %});
   
       $('#inventory-approved-table tbody').on('click', 'a', function () {
           var data = approvedTable.row( $(this).parents('tr') ).data();
           window.location.href = window.location.origin + "/listings/edit/" + data["id"] + "?next=/listings/inventory-review/#nav-inventory-approved-tab";
       } );
   
       var reportedTable = $('#inventory-reported-table').DataTable({
           "serverSide": true,
           "processing": true,
           "autoWidth": false,
           "stateSave": true,
           "ajax": {
               "url": "/listings/api/inventory-review/?format=datatables&stage=4" + filter,
               "credentials": 'include',
           },
           "columns": [
               {"data": "title"},
               {"data": "desc"},
               {
                   "searchable": false,
                   "data": "location"
               },
               {"data": "issue"},
               {
                   "searchable": false,
                   "data": 'inventorycampuspropertynamepair_set.0.campus',
               },
               {
                   "searchable": true,
                   "data": 'inventorycampuspropertynamepair_set.0.propertyname',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.1.campus',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.1.propertyname',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.2.campus',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.2.propertyname',
               },
               {
                   "data": null,
                   render:function(data, type, row) {
                       return '<div class="d-inline"> <form action="" method="POST"> {% csrf_token %} {% if user.is_admin %} <button type="submit" value="2" class="btn btn-success" name="status">Approve</button> {% endif %}<button type="submit" value="delete" class="btn btn-danger" name="status">Delete</button> <input type="hidden" class="card-id" name="id" value="' + data["id"] + '"> </form> </div> <div class="d-inline"> <a class="btn btn-primary" role="button">Edit</a> </div>';
                   },
                   "targets": -1
               }
           ],
       });
   
       $('#inventory-reported-table tbody').on('click', 'a', function () {
           console.log("Test");
           var data = reportedTable.row( $(this).parents('tr') ).data();
           window.location.href = window.location.origin + "/listings/edit/" + data["id"] + "?next=/listings/inventory-review/#nav-inventory-reported-tab";
       } );
   
       var rejectedTable = $('#inventory-rejected-table').DataTable({
           "serverSide": true,
           "processing": true,
           "autoWidth": false,
           "stateSave": true,
           "ajax": {
               "url": "/listings/api/inventory-review/?format=datatables&stage=3" + filter,
               "credentials": 'include',
           },
           "columns": [
               {"data": "title"},
               {"data": "detail"},
               {
                   "searchable": false,
                   "data": "location"
               },
               {"data": "issue"},
               {
                   "searchable": false,
                   "data": 'inventorycampuspropertynamepair_set.0.campus'
               },
               {
                   "searchable": false,
                   "data": 'inventorycampuspropertynamepair_set.0.propertyname'
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.1.campus',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.1.propertyname',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.2.campus',
               },
               {
                   "searchable": false,
                   "defaultContent": "",
                   "data": 'inventorycampuspropertynamepair_set.2.propertyname',
               },
               {
                   "data": null,
                   render:function(data, type, row) {
                       return '<div class="d-inline"> <form action="" method="POST"> {% csrf_token %} {% if user.is_admin %} <button type="submit" value="2" class="btn btn-success" name="status">Approve</button> {% endif %}<button type="submit" value="delete" class="btn btn-danger" name="status">Delete</button> <input type="hidden" class="card-id" name="id" value="' + data["id"] + '"> </form> </div> <div class="d-inline"> <a class="btn btn-primary" role="button">Edit</a> </div>';
                   },
                   "targets": -1
               }
           ],
       });
   
       $('#inventory-rejected-table tbody').on('click', 'a', function () {
           var data = rejectedTable.row( $(this).parents('tr') ).data();
           window.location.href = window.location.origin + "/listings/edit/" + data["id"] + "?next=/listings/inventory-review/#nav-inventory-rejected-tab";
       } );
   
       var inventoryTable = $('#inventory-table').DataTable({
           "serverSide": true,
           "processing": true,
           "autoWidth": false,
           "stateSave": true,
           "ajax": {
               "url": "/listings/api/inventory-review/?format=datatables&stage=5",
               "credentials": 'include',
           },
           "columns": [
               {"data": "title"},
               {
                   "data": null,
                   render:function(data, type, row) {
                       return '<div class="d-inline"> <form action="" method="POST"> {% csrf_token %} {% if user.is_admin %} <button type="submit" value="delete" class="btn btn-danger" name="status">Delete</button> <input type="hidden" class="card-id" name="id" value="' + data["id"] + '"> </form> </div> {% endif %}';
                   },
                   "targets": -1
               }
           ],
           
       });
   });
   
   
   $('.apply-filter').click(function (e){submit(e)});
   
   function submit(e){
       var locations = [];
       var propertynames = [];
       var campuses = [];
   
       $(".location").each(function () {
           if ($(this).is(":checked")) { locations.push($(this).attr('id').toString()); }
       });
   
       $(".propertyname").each(function () {
           if ($(this).is(":checked")) { propertynames.push($(this).attr('id').toString()); }
       });
   
       $(".campus").each(function () {
           if ($(this).is(":checked")) { campuses.push($(this).attr('id').toString()); }
       });
   
   
       var showNA = $('#na').is(":checked").toString();
   
       var href = "?location=";
       for(let i = 0; i < locations.length; i++) {
           if(i != 0) {
               href += "&location=" + locations[i];
           } else {
               href += locations[i];
           }
       }
       for(let i = 0; i < campuses.length; i++) {
           href += "&campus=" + campuses[i];
       }
       for(let i = 0; i < propertynames.length; i++) {
           href += "&propertyname=" + propertynames[i];
       }
       href += "&showNA=" + showNA;
       window.location.href = href + location.hash;
   }
   
   // store the currently selected tab in the hash value
   $("ul.nav-tabs > li > button").on("shown.bs.tab", function(e) {
     var id = $(e.target).attr("id");
     // localStorage.setItem('selectedTab', id);
     if(history.pushState) {
       history.pushState(null, null, "#" + id);
     } else {
       location.hash = "#" + id;
     }
     //window.location.hash = id;
   });
   
   // on load of the page: switch to the currently selected tab
   var hash = location.hash;
   
   var tabShowEl = document.querySelector(hash);
   var tabShow = new bootstrap.Tab(tabShowEl);
   tabShow.show();
   
</script>
{% endblock content%}